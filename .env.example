# ==============================================================================
# Meeting Agent Environment Variables
# ==============================================================================
# Copy this file to .env and fill in your values
# ==============================================================================

# ==============================================================================
# AI MODEL CONFIGURATION
# ==============================================================================

# Model Provider Selection: 'openai', 'gemini', or 'anthropic'
# Default: gemini (Gemini 2.5 Pro)
MODEL_PROVIDER=gemini

# -----------------------------------------------------------------------------
# OpenAI API Configuration (Alternative)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL_NAME=gpt-5

# -----------------------------------------------------------------------------
# Google Gemini API Configuration (Default - Gemini 2.5 Pro)
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=your-google-api-key-here
GEMINI_MODEL_NAME=gemini-2.5-pro

# -----------------------------------------------------------------------------
# Anthropic Claude API Configuration (Alternative)
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL_NAME=claude-sonnet-4-5

# -----------------------------------------------------------------------------
# Model Settings (applies to all providers)
# -----------------------------------------------------------------------------
TEMPERATURE=0.7
MAX_TOKENS=4000

# -----------------------------------------------------------------------------
# Tavily API Configuration (Web Search)
# -----------------------------------------------------------------------------
TAVILY_API_KEY=your-tavily-api-key-here

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Local development
DATABASE_URL=postgresql://adminuser:devpassword123@postgres:5432/spine_db

# Production (set in Azure as secret)
# DATABASE_URL will be injected by Azure Container Apps

# -----------------------------------------------------------------------------
# LangGraph Configuration
# -----------------------------------------------------------------------------
USE_LANGGRAPH_AGENDA=true

# -----------------------------------------------------------------------------
# Organization Configuration
# -----------------------------------------------------------------------------
DEFAULT_ORG_ID=org_demo

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
PORT=8000

# -----------------------------------------------------------------------------
# Deep Research Agent Integration
# -----------------------------------------------------------------------------
# Enable/disable integration with Deep Research Agent for advanced research
DEEPRESEARCH_ENABLED=false  # Set to true to enable (opt-in feature)

# Deep Research Agent API URL
# Development: http://localhost:8000
# Production (Azure): https://deepresearch-agent.niceforest-9298afc9.eastus2.azurecontainerapps.io
DEEPRESEARCH_API_URL=https://deepresearch-agent.niceforest-9298afc9.eastus2.azurecontainerapps.io

# Model provider for Deep Research: "openai", "gemini", or "anthropic"
# Default: gemini (Gemini 2.5 Pro)
DEEPRESEARCH_MODEL=gemini

# Search provider (always Tavily)
DEEPRESEARCH_SEARCH_PROVIDER=tavily

# Timeout for research requests (seconds) - 300 = 5 minutes
DEEPRESEARCH_TIMEOUT=300

# Maximum research steps (3-10) - more steps = deeper research but slower
# For meetings: use 10 for comprehensive analysis
DEEPRESEARCH_MAX_STEPS=10

# Persist research results to MongoDB (recommended for caching)
DEEPRESEARCH_PERSIST_RESULTS=true

# Optional API key for authentication (if Deep Research requires it)
# DEEPRESEARCH_API_KEY=your-api-key-here

# Whitelist specific orgs for Deep Research (comma-separated)
# Leave empty to enable for all orgs when DEEPRESEARCH_ENABLED=true
# DEEPRESEARCH_ORGS=org_acme,org_techcorp

# Minimum confidence threshold to trigger Deep Research (0.0-1.0)
# Lower = triggers more often, Higher = only for complex topics
DEEPRESEARCH_MIN_CONFIDENCE=0.6

# Fallback to basic search if Deep Research fails
DEEPRESEARCH_FALLBACK_BASIC=true

# -----------------------------------------------------------------------------
# MongoDB Storage - Centralized Data Access
# -----------------------------------------------------------------------------
# Retrieves SPINE data from MongoDB via chat-agent's HTTP API
# Uses Authorization: Bearer header for service-to-service authentication
USE_MONGODB_STORAGE=true
CHAT_AGENT_URL=https://chat-agent-tk-stage-ftf3g3bvahd6dzfg.eastus2-01.azurewebsites.net
SERVICE_TOKEN=dev-token

# Local development
# CHAT_AGENT_URL=http://localhost:5000
# SERVICE_TOKEN=dev-token
